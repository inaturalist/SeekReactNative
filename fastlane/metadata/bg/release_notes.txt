Minor updates and bug fixes